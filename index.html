<!DOCTYPE html>
<html>
<head>
<title>Dashboard</title>


<!-- FIXME remove the following
<script>var exports = {};</script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
-->

</head>
<body>

<div></div>

<script type='module'>
    import { render } from './main.js'
    window.dataurl = (new URLSearchParams(window.location.search)).get('dataurl')
    if (! window.dataurl) {
      window.dataurl = 'https://raw.githubusercontent.com/svlentink/life-planner/master/example/dashboard.yml'
      let nextURL = window.location.href.split('#')[0]
      if (window.location.search)
        nextURL += '&dataurl=' + window.dataurl
      else
        nextURL += '?dataurl=' + window.dataurl
      let nextTitle = document.querySelector('title').innerText
      window.history.replaceState('', nextTitle, nextURL)
    }
    render('div',window.dataurl)
</script>
</body>
</html>
